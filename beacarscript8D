local Players = cloneref(game:GetService("Players"))
local StarterGui = cloneref(game:GetService("StarterGui"))
local UserInputService = cloneref(game:GetService("UserInputService"))
-- Made By @Gazer_ha. pls dont steal or put keysytem on it

local uScale = function(xScale, yScale)
local screen = workspace.CurrentCamera.ViewportSize
return UDim2.new(0, screen.X * xScale, 0, screen.Y * (yScale or xScale)) end

local uPos = function(xScale, yScale)
local screen = workspace.CurrentCamera.ViewportSize
return UDim2.new(0, screen.X * xScale, 0, screen.Y * yScale) end

local uSize = function(widthScale, heightScale)
local screen = workspace.CurrentCamera.ViewportSize
return UDim2.new(0, screen.X * widthScale, 0, screen.Y * (heightScale or widthScale)) end

--[[ Example usage for the uSize and uPos:
local frame = Instance.new("Frame")
frame.Position = uScale(0.4, 0.5)  # 40% from left, 50% from top
frame.Size = uSize(0.3)            # 30% of screen width and height (square)

# For buttons or non-square elements
local button = Instance.new("TextButton")
button.Position = uPos(0.8, 0.9)   # 80% from left, 90% from top
button.Size = uSize(0.15, 0.08)    # 15% width, 8% height
button.Parent = script.Parent
]]

 createNotification = function(title, text, duration)
    local notificationGui = Instance.new("ScreenGui", cloneref(game:GetService("CoreGui")))
    notificationGui.Name = "EnhancedNotification"
    notificationGui.ResetOnSpawn = false
    
    local mainFrame = Instance.new("Frame", notificationGui)
    mainFrame.Size = uSize(0.25, 0.15)
    mainFrame.Position = UDim2.new(0.75, 0, 0.05, 0)
    mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
    mainFrame.BorderSizePixel = 0
    
    local corner = Instance.new("UICorner", mainFrame)
    corner.CornerRadius = UDim.new(0, 8)
    
    local shadow = Instance.new("ImageLabel", mainFrame)
    shadow.Name = "Shadow"
    shadow.BackgroundTransparency = 1
    shadow.Size = UDim2.new(1, 10, 1, 10)
    shadow.Position = UDim2.new(0, -5, 0, -5)
    shadow.Image = "rbxassetid://1316045217"
    shadow.ImageColor3 = Color3.new(0, 0, 0)
    shadow.ImageTransparency = 0.8
    shadow.ScaleType = Enum.ScaleType.Slice
    shadow.SliceCenter = Rect.new(10, 10, 118, 118)
    shadow.ZIndex = -1
    
    local titleBar = Instance.new("Frame", mainFrame)
    titleBar.Size = UDim2.new(1, 0, 0, 28)
    titleBar.Position = UDim2.new(0, 0, 0, 0)
    titleBar.BackgroundColor3 = Color3.fromRGB(35, 35, 40)
    titleBar.BorderSizePixel = 0
    
    local titleCorner = Instance.new("UICorner", titleBar)
    titleCorner.CornerRadius = UDim.new(0, 8, 0, 0)
    
    local titleText = Instance.new("TextLabel", titleBar)
    titleText.Size = UDim2.new(1, -10, 1, 0)
    titleText.Position = UDim2.new(0, 10, 0, 0)
    titleText.BackgroundTransparency = 1
    titleText.Text = title
    titleText.Font = Enum.Font.GothamBold
    titleText.TextColor3 = Color3.new(1, 1, 1)
    titleText.TextScaled = true
    titleText.TextXAlignment = Enum.TextXAlignment.Left
    
    local timeBarContainer = Instance.new("Frame", mainFrame)
    timeBarContainer.Size = UDim2.new(1, 0, 0, 3)
    timeBarContainer.Position = UDim2.new(0, 0, 0, 28)
    timeBarContainer.BackgroundColor3 = Color3.fromRGB(50, 50, 55)
    timeBarContainer.BorderSizePixel = 0
    
    local timeBar = Instance.new("Frame", timeBarContainer)
    timeBar.Size = UDim2.new(1, 0, 1, 0)
    timeBar.BackgroundColor3 = Color3.fromRGB(60, 120, 200)
    timeBar.BorderSizePixel = 0
    
    local contentFrame = Instance.new("Frame", mainFrame)
    contentFrame.Size = UDim2.new(1, -10, 1, -45)
    contentFrame.Position = UDim2.new(0, 5, 0, 38)
    contentFrame.BackgroundTransparency = 1
    
    local messageText = Instance.new("TextLabel", contentFrame)
    messageText.Size = UDim2.new(1, 0, 1, 0)
    messageText.BackgroundTransparency = 1
    messageText.Text = text
    messageText.Font = Enum.Font.Gotham
    messageText.TextColor3 = Color3.new(1, 1, 1)
    messageText.TextSize = 16
    messageText.TextWrapped = true
    messageText.TextXAlignment = Enum.TextXAlignment.Left
    messageText.TextYAlignment = Enum.TextYAlignment.Top
    messageText.TextTruncate = Enum.TextTruncate.AtEnd
    
    mainFrame.Size = UDim2.new(0, 0, 0, 0)
    mainFrame.Position = UDim2.new(0.75, 0, 0.05, 0)
    mainFrame:TweenSize(uSize(0.25, 0.15), Enum.EasingDirection.Out, Enum.EasingStyle.Quad, 0.3, true)
    
    if duration and duration > 0 then
        timeBar:TweenSize(UDim2.new(0, 0, 1, 0), Enum.EasingDirection.InOut, Enum.EasingStyle.Linear, duration, true)
        
        task.delay(duration, function()
            mainFrame:TweenSize(UDim2.new(0, 0, 0, 0), Enum.EasingDirection.In, Enum.EasingStyle.Quad, 0.3, true)
            task.wait(0.3)
            notificationGui:Destroy()
        end)
    end
    
    return notificationGui
end





local char = Players.LocalPlayer.Character
if char and char:FindFirstChild("Humanoid") and char.Humanoid.RigType == Enum.HumanoidRigType.R6 then
    createNotification("R6??", "You need to be R15 Dude",8)
    return
end

if getgenv().CarExecuted then return end
getgenv().CarExecuted = true
wait()
createNotification("Fe Silly Car V1.3", "Small GUI Update :3",8)

local plr = Players.LocalPlayer
local cg = cloneref(game:GetService("CoreGui"))
local runService = game:GetService("RunService")

local animData = {
    {id = "76503595759461", mult = 1},
    {id = "115245341767944", mult = 2},
    {id = "127805235430271", mult = 4},
    {id = "138003068153218", mult = 1},
    {id = "116772752010894", mult = 1},
    {id = "116625361313832", mult = 1},
    {id = "81388785824317", mult = 1},
    {id = "108747312576405", mult = 2},
    {id = "113181071290859", mult = 1},
    {id = "134681712937413", mult = 1},
    {id = "115260380433565", mult = 2},
    {id = "72382226286301", mult = 1}
}
local currentIndex = 1
local activeTrack
local activeConn

local sg = Instance.new("ScreenGui", cg)
sg.ResetOnSpawn = false
sg.Name = "SillyCarUI"

mainFrame = Instance.new("Frame", sg)
mainFrame.Size = uSize(0.3,0.6)
mainFrame.Position = UDim2.new(0.5, -200, 0.5, -175)
mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true


local corner = Instance.new("UICorner", mainFrame)
corner.CornerRadius = UDim.new(0, 8)


local shadow = Instance.new("ImageLabel", mainFrame)
shadow.Name = "Shadow"
shadow.BackgroundTransparency = 1
shadow.Size = UDim2.new(1, 10, 1, 10)
shadow.Position = UDim2.new(0, -5, 0, -5)
shadow.Image = "rbxassetid://1316045217"
shadow.ImageColor3 = Color3.new(0, 0, 0)
shadow.ImageTransparency = 0.8
shadow.ScaleType = Enum.ScaleType.Slice
shadow.SliceCenter = Rect.new(10, 10, 118, 118)
shadow.ZIndex = -1


title = Instance.new("Frame", mainFrame)
title.Size = UDim2.new(1, 0, 0, 32)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(35, 35, 40)
title.BorderSizePixel = 0

local titleCorner = Instance.new("UICorner", title)
titleCorner.CornerRadius = UDim.new(0, 8)
titleCorner.Name = "TitleCorner"

local titleText = Instance.new("TextLabel", title)
titleText.Size = UDim2.new(1, -60, 1, 0)
titleText.Position = UDim2.new(0, 10, 0, 0)
titleText.BackgroundTransparency = 1
titleText.Text = "FE Silly Car"
titleText.Font = Enum.Font.GothamBold
titleText.TextColor3 = Color3.new(1, 1, 1)
titleText.TextScaled = true
titleText.TextXAlignment = Enum.TextXAlignment.Left




local buttonCorner = Instance.new("UICorner")
buttonCorner.CornerRadius = UDim.new(0, 4)

minBtn = Instance.new("TextButton", title)
minBtn.Size = UDim2.new(0, 24, 0, 24)
minBtn.Position = UDim2.new(1, -54, 0, 4)
minBtn.BackgroundColor3 = Color3.fromRGB(45, 45, 50)
minBtn.TextColor3 = Color3.new(1, 1, 1)
minBtn.Text = "_"
minBtn.Font = Enum.Font.GothamBold
minBtn.TextScaled = true
buttonCorner:Clone().Parent = minBtn

closeBtn = Instance.new("TextButton", title)
closeBtn.Size = UDim2.new(0, 24, 0, 24)
closeBtn.Position = UDim2.new(1, -26, 0, 4)
closeBtn.BackgroundColor3 = Color3.fromRGB(45, 45, 50)
closeBtn.TextColor3 = Color3.new(1, 1, 1)
closeBtn.Text = "?—"
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextScaled = true
buttonCorner:Clone().Parent = closeBtn

vp = Instance.new("Frame", mainFrame)
vp.Size = UDim2.new(1, -20, 1, -120)
vp.Position = UDim2.new(0, 10, 0, 50)
vp.BackgroundColor3 = Color3.fromRGB(15, 15, 20)
vp.BorderSizePixel = 0

local vpCorner = Instance.new("UICorner", vp)
vpCorner.CornerRadius = UDim.new(0, 6)

local innerVp = Instance.new("ViewportFrame", vp)
innerVp.Size = UDim2.new(1, -4, 1, -4)
innerVp.Position = UDim2.new(0, 2, 0, 2)
innerVp.BackgroundColor3 = Color3.fromRGB(10, 10, 15)
innerVp.BorderSizePixel = 0

cam = Instance.new("Camera")
cam.CameraType = Enum.CameraType.Scriptable
innerVp.CurrentCamera = cam


local animNameFrame = Instance.new("Frame", mainFrame)
animNameFrame.Size = UDim2.new(1, -20, 0, 24)
animNameFrame.Position = UDim2.new(0, 10, 0, 40)
animNameFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 40)
animNameFrame.BorderSizePixel = 0

local animNameCorner = Instance.new("UICorner", animNameFrame)
animNameCorner.CornerRadius = UDim.new(0, 4)

local animNameText = Instance.new("TextLabel", animNameFrame)
animNameText.Size = UDim2.new(1, 0, 1, 0)
animNameText.BackgroundTransparency = 1
animNameText.Text = "Animation "..currentIndex.."/"..#animData
animNameText.Font = Enum.Font.Gotham
animNameText.TextColor3 = Color3.new(1, 1, 1)
animNameText.TextScaled = true

local buttonContainer = Instance.new("Frame", mainFrame)
buttonContainer.Size = UDim2.new(1, -20, 0, 40)
buttonContainer.Position = UDim2.new(0, 10, 1, -50)
buttonContainer.BackgroundTransparency = 1

prevBtn = Instance.new("TextButton", buttonContainer)
prevBtn.Size = UDim2.new(0, 80, 1, 0)
prevBtn.Position = UDim2.new(0, 0, 0, 0)
prevBtn.BackgroundColor3 = Color3.fromRGB(45, 45, 50)
prevBtn.TextColor3 = Color3.new(1, 1, 1)
prevBtn.Text = "a—? Previous"
prevBtn.Font = Enum.Font.Gotham
prevBtn.TextScaled = true
buttonCorner:Clone().Parent = prevBtn

nextBtn = Instance.new("TextButton", buttonContainer)
nextBtn.Size = UDim2.new(0, 80, 1, 0)
nextBtn.Position = UDim2.new(1, -80, 0, 0)
nextBtn.BackgroundColor3 = Color3.fromRGB(45, 45, 50)
nextBtn.TextColor3 = Color3.new(1, 1, 1)
nextBtn.Text = "Next a–o"
nextBtn.Font = Enum.Font.Gotham
nextBtn.TextScaled = true
buttonCorner:Clone().Parent = nextBtn

selectBtn = Instance.new("TextButton", mainFrame)
selectBtn.Size = UDim2.new(1, -20, 0, 30)
selectBtn.Position = UDim2.new(0, 10, 1, -90)
selectBtn.BackgroundColor3 = Color3.fromRGB(60, 120, 200)
selectBtn.TextColor3 = Color3.new(1, 1, 1)
selectBtn.Text = "SELECT ANIMATION"
selectBtn.Font = Enum.Font.GothamBold
selectBtn.TextScaled = true
local selectCorner = Instance.new("UICorner", selectBtn)
selectCorner.CornerRadius = UDim.new(0, 4)

local function setupButtonHover(button)
    local originalColor = button.BackgroundColor3
    local originalSize = button.Size
    
    button.MouseEnter:Connect(function()
        button.BackgroundColor3 = originalColor:lerp(Color3.new(1, 1, 1), 0.1)
        button.Size = originalSize - UDim2.new(0, 2, 0, 2)
        button.Position = button.Position + UDim2.new(0, 1, 0, 1)
    end)
    
    button.MouseLeave:Connect(function()
        button.BackgroundColor3 = originalColor
        button.Size = originalSize
        button.Position = button.Position - UDim2.new(0, 1, 0, 1)
    end)
end

setupButtonHover(prevBtn)
setupButtonHover(nextBtn)
setupButtonHover(selectBtn)
setupButtonHover(minBtn)
setupButtonHover(closeBtn)

-- Rest of existing functionality remains the same...
-- Only the UI creation part has been modified Lol

ensurePrimaryPart = function(m)
    if not m then return end
    if not m.PrimaryPart then
        local root = m:FindFirstChild("HumanoidRootPart") or m:FindFirstChildWhichIsA("BasePart")
        if root then
            m.PrimaryPart = root
        end
    end
end

realDummy = Players:CreateHumanoidModelFromUserId(9160453052)
realDummy.Parent = workspace
ensurePrimaryPart(realDummy)
repeat task.wait() ensurePrimaryPart(realDummy) until realDummy.PrimaryPart
realDummy:SetPrimaryPartCFrame(CFrame.new(0, 0, 0))

vpDummy = realDummy:Clone()
ensurePrimaryPart(vpDummy)
vpDummy.Parent = innerVp
if vpDummy.PrimaryPart and realDummy.PrimaryPart then
    vpDummy:SetPrimaryPartCFrame(realDummy.PrimaryPart.CFrame)
end
local hrp = vpDummy:FindFirstChild("HumanoidRootPart")
if hrp then
    hrp.Transparency = 1
end

for _, part in ipairs(vpDummy:GetDescendants()) do
    if part:IsA("BasePart") then
        part.CanCollide = false
    end
end
for _, part in ipairs(realDummy:GetDescendants()) do
    if part:IsA("BasePart") then
        part.Transparency = 1
        part.CanCollide = false
    end
end

rotationAngle = 0
rotationSpeed = math.rad(30)
radius = 6
height = 3

runService.RenderStepped:Connect(function(deltaTime)
    if not realDummy.Parent or not vpDummy.Parent then return end
    for _, part in ipairs(realDummy:GetDescendants()) do
        if part:IsA("BasePart") then
            local clonePart = vpDummy:FindFirstChild(part.Name, true)
            if clonePart and part:IsDescendantOf(realDummy) then
                clonePart.CFrame = part.CFrame
            end
        end
    end
    rotationAngle = rotationAngle + rotationSpeed * deltaTime
    local x = math.sin(rotationAngle) * radius
    local z = math.cos(rotationAngle) * radius
    local targetPos = (vpDummy.PrimaryPart and vpDummy.PrimaryPart.Position) or Vector3.new(0, 1, 0)
    cam.CFrame = CFrame.new(targetPos + Vector3.new(x, height, z), targetPos)
end)

hum = realDummy:FindFirstChildWhichIsA("Humanoid")
animator = hum and (hum:FindFirstChildOfClass("Animator") or Instance.new("Animator", hum))
previewAnimTrack = nil

loadAnim = function(index)
    if previewAnimTrack then
        previewAnimTrack:Stop()
        previewAnimTrack:Destroy()
    end
    local anim = Instance.new("Animation")
    anim.AnimationId = "rbxassetid://" .. animData[index].id
    if animator then
        previewAnimTrack = animator:LoadAnimation(anim)
        previewAnimTrack.Priority = Enum.AnimationPriority.Action
        previewAnimTrack.Looped = true
        previewAnimTrack:Play()
        previewAnimTrack:AdjustWeight(1)
        previewAnimTrack:AdjustSpeed(1)
    end
    animNameText.Text = "Animation "..currentIndex.."/"..#animData
end

loadAnim(currentIndex)

stopAll = function()
    if activeTrack then
        activeTrack:Stop()
        activeTrack:Destroy()
        activeTrack = nil
    end
    if activeConn then
        activeConn:Disconnect()
        activeConn = nil
    end
end

playCarAnim = function(char)
    stopAll()
    local hum = char:WaitForChild("Humanoid")
    local root = char:WaitForChild("HumanoidRootPart")
    local anim = Instance.new("Animation")
    anim.AnimationId = "rbxassetid://" .. animData[currentIndex].id
    local track = hum:LoadAnimation(anim)
    activeTrack = track
    track.Priority = Enum.AnimationPriority.Action
    track:Play()
    track.Looped = true
    track:AdjustWeight(1)
    workspace.CurrentCamera.CameraSubject = plr.Character:WaitForChild("Head")
    activeConn = runService.Heartbeat:Connect(function()
        local v = root.Velocity
        local speed = v.Magnitude
        if speed > 0.1 then
            local dot = root.CFrame.LookVector:Dot(v.Unit)
            track:AdjustSpeed((speed / 16) * animData[currentIndex].mult * (dot >= 0 and 1 or -1))
        else
            track:AdjustSpeed(0)
        end
    end)
end

showConfirmation = function(callback)
if confirmationgui then return end
confirmationgui = true

    local popup = Instance.new("Frame", sg)
    popup.Size = uSize(0.2,0.5)
    popup.Position = uPos(0,0)
    popup.BackgroundColor3 = Color3.fromRGB(30, 30, 35)
    popup.BorderSizePixel = 0
    popup.Name = "CloserNig"
    Instance.new("UICorner", popup).CornerRadius = UDim.new(0, 8)
    
    local shadow = Instance.new("ImageLabel", popup)
    shadow.Name = "Shadow"
    shadow.BackgroundTransparency = 1
    shadow.Size = UDim2.new(1, 10, 1, 10)
    shadow.Position = UDim2.new(0, -5, 0, -5)
    shadow.Image = "rbxassetid://1316045217"
    shadow.ImageColor3 = Color3.new(0, 0, 0)
    shadow.ImageTransparency = 0.8
    shadow.ScaleType = Enum.ScaleType.Slice
    shadow.SliceCenter = Rect.new(10, 10, 118, 118)
    shadow.ZIndex = -1
    
    local label = Instance.new("TextLabel", popup)
    label.Size = UDim2.new(1, -20, 0, 60)
    label.Position = UDim2.new(0, 10, 0, 10)
    label.BackgroundTransparency = 1
    label.Text = "Are you sure you want to close?\n(it will stop the animation)"
    label.Font = Enum.Font.Gotham
    label.TextScaled = true
    label.TextColor3 = Color3.new(1, 1, 1)
    label.TextWrapped = true
    
    local buttonContainer = Instance.new("Frame", popup)
    buttonContainer.Size = UDim2.new(1, -20, 0, 40)
    buttonContainer.Position = UDim2.new(0, 10, 1, -50)
    buttonContainer.BackgroundTransparency = 1
    
    local yesBtn = Instance.new("TextButton", buttonContainer)
    yesBtn.Size = UDim2.new(0.5, -5, 1, 0)
    yesBtn.Position = UDim2.new(0, 0, 0, 0)
    yesBtn.BackgroundColor3 = Color3.fromRGB(60, 120, 200)
    yesBtn.TextColor3 = Color3.new(1, 1, 1)
    yesBtn.Text = "Yes"
    yesBtn.Font = Enum.Font.Gotham
    yesBtn.TextScaled = true
    Instance.new("UICorner", yesBtn).CornerRadius = UDim.new(0, 4)
    
    local noBtn = Instance.new("TextButton", buttonContainer)
    noBtn.Size = UDim2.new(0.5, -5, 1, 0)
    noBtn.Position = UDim2.new(0.5, 5, 0, 0)
    noBtn.BackgroundColor3 = Color3.fromRGB(80, 80, 85)
    noBtn.TextColor3 = Color3.new(1, 1, 1)
    noBtn.Text = "No"
    noBtn.Font = Enum.Font.Gotham
    noBtn.TextScaled = true
    Instance.new("UICorner", noBtn).CornerRadius = UDim.new(0, 4)
    
    setupButtonHover(yesBtn)
    setupButtonHover(noBtn)
    
    yesBtn.MouseButton1Click:Connect(function()
        popup:Destroy()
        callback(true)
        confirmationgui = false
    end)
    noBtn.MouseButton1Click:Connect(function()
        popup:Destroy()
        callback(false)
        confirmationgui = false
    end)
end

UserInputService.InputBegan:Connect(function(input, gpe)
    if gpe then return end
    if input.KeyCode == Enum.KeyCode.K then
        sg.Enabled = not sg.Enabled
    elseif input.KeyCode == Enum.KeyCode.Left then
        currentIndex = (currentIndex - 2) % #animData + 1
        loadAnim(currentIndex)
    elseif input.KeyCode == Enum.KeyCode.Right then
        currentIndex = currentIndex % #animData + 1
        loadAnim(currentIndex)
    elseif input.KeyCode == Enum.KeyCode.Return or input.KeyCode == Enum.KeyCode.KeypadEnter then
        playCarAnim(plr.Character)
    end
end)

prevBtn.MouseButton1Click:Connect(function()
    currentIndex = (currentIndex - 2) % #animData + 1
    loadAnim(currentIndex)
end)

nextBtn.MouseButton1Click:Connect(function()
    currentIndex = currentIndex % #animData + 1
    loadAnim(currentIndex)
end)

selectBtn.MouseButton1Click:Connect(function()
    playCarAnim(plr.Character)
end)

local minimized = false

minBtn.MouseButton1Click:Connect(function()
    minimized = not minimized
    if minimized then
        mainFrame.Size = uSize(0.3,0.1)
        for _, child in ipairs(mainFrame:GetChildren()) do
            if child ~= title and child ~= minBtn and child ~= closeBtn and not child:IsA("UICorner") then
                child.Visible = false
            end
        end
        titleCorner.CornerRadius = UDim.new(0, 8)
    else
        mainFrame.Size = uSize(0.3,0.6)
        for _, child in ipairs(mainFrame:GetChildren()) do
            if not child:IsA("UICorner") then
                child.Visible = true
            end
        end
        titleCorner.CornerRadius = UDim.new(0, 8, 0, 0)
    end
end)

closeAll = function()
    stopAll()
    sg:Destroy()
    
end

closeBtn.MouseButton1Click:Connect(function()
    showConfirmation(function(confirm)
        if confirm then
            closeAll()
            getgenv().CarExecuted = false
            createNotification("Fe Silly Car","Gui Closed..",5)
        end
    end)
end)

plr.CharacterAdded:Connect(function(char)
    task.wait(1)
    playCarAnim(char)
    getgenv().TiltForCarLoaded = false
    wait()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/mciklw/mciklwscript/refs/heads/main/car"))()
end)


loadstring(game:HttpGet("https://raw.githubusercontent.com/mciklw/mciklwscript/refs/heads/main/car"))()

loadstring(game:HttpGet("https://raw.githubusercontent.com/mciklw/mciklwscript/refs/heads/main/shiftlock"))()
